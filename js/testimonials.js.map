{"version":3,"file":"testimonials.js","sources":["../../src/js/testimonials.js"],"sourcesContent":["//--------------| testimonials |----------------\r\n\r\nconst slider = document.querySelector('.slider');\r\nconst slides = document.querySelectorAll('.slide');\r\nconst leftArrow = document.querySelector('.testimonials-grid__controls i:nth-child(1)');\r\nconst rightArrow = document.querySelector('.testimonials-grid__controls i:nth-child(2)');\r\nconst dotsWrapper = document.querySelector('.dots');\r\nconst dots = document.querySelectorAll('.dots span');\r\nconst wrapper = document.querySelector('.testimonials-grid__wrapper');\r\n\r\nconst OFFSET = 20;\r\nconst SLIDES_AMOUNT = slides.length;\r\nlet slideIndex = 0;\r\n\r\nleftArrow.addEventListener('click', (e) => {\r\n\tgoLeft();\r\n});\r\n\r\nrightArrow.addEventListener('click', (e) => {\r\n\tgoRight();\r\n});\r\n\r\nfunction goLeft() {\r\n\tclearInterval(to);\r\n\tslideIndex > 0 ? slideIndex-- : (slideIndex = SLIDES_AMOUNT - 1);\r\n\tsetIndex();\r\n}\r\n\r\nfunction goRight() {\r\n\tclearInterval(to);\r\n\t// slideIndex < SLIDES_AMOUNT - 1 ? slideIndex++ : (slideIndex = 0);\r\n\tslideIndex = (slideIndex + 1) % SLIDES_AMOUNT;\r\n\tsetIndex();\r\n}\r\n\r\nfunction setIndex() {\r\n\tlet w = wrapper.getBoundingClientRect().width;\r\n\tslider.style.transform = `translateX(${slideIndex * -w}px)`;\r\n\tclearAllDotsFromActive();\r\n\tdotsWrapper.children[slideIndex].classList.add('active');\r\n\r\n\t//setTimer();\r\n}\r\n\r\ndots.forEach((dot, index) => {\r\n\tdot.addEventListener('click', () => {\r\n\t\tclearInterval(to);\r\n\r\n\t\tslideIndex = index;\r\n\t\tsetIndex();\r\n\t});\r\n});\r\n\r\nfunction clearAllDotsFromActive() {\r\n\tdots.forEach((dot) => {\r\n\t\tdot.classList.remove('active');\r\n\t});\r\n}\r\n\r\n// -----------------------------\r\n\r\nconst INTERVAL_TIME = 5000;\r\nlet to;\r\n\r\nfunction setTimer() {\r\n\tto = setTimeout(() => {\r\n\t\tgoRight();\r\n\t}, INTERVAL_TIME);\r\n}\r\n//==>\r\n//setTimer();\r\n\r\n//to keep actual slide in the center od slider\r\nwindow.addEventListener('resize', () => {\r\n\tclearInterval(to);\r\n\tslider.classList.add('no-transition');\r\n\tsetIndex();\r\n\tslider.classList.remove('no-transition');\r\n});\r\n\r\n// -----------------------------\r\n\r\n// ObsÅ‚uga swipe\r\nlet startX = 0;\r\nlet endX = 0;\r\n\r\nslider.addEventListener('touchstart', (e) => {\r\n\tstartX = e.touches[0].clientX;\r\n});\r\n\r\nslider.addEventListener('touchend', (e) => {\r\n\tendX = e.changedTouches[0].clientX;\r\n\thandleSwipe();\r\n});\r\n\r\nfunction handleSwipe() {\r\n\tconsole.log('touch!');\r\n\tconst deltaX = endX - startX;\r\n\tif (Math.abs(deltaX) > 40) {\r\n\t\t// if (deltaX > 0) {\r\n\t\t// \tcurrentIndex = currentIndex > 0 ? currentIndex - 1 : slides.length - 1;\r\n\t\t// } else {\r\n\t\t// \tcurrentIndex = (currentIndex + 1) % slides.length;\r\n\t\t// }\r\n\t\tif (deltaX > 0) goLeft();\r\n\t\telse goRight();\r\n\t}\r\n}\r\n"],"names":["slider","document","querySelector","slides","querySelectorAll","leftArrow","rightArrow","dotsWrapper","dots","wrapper","SLIDES_AMOUNT","length","slideIndex","addEventListener","e","goLeft","goRight","clearInterval","to","setIndex","w","getBoundingClientRect","width","style","transform","concat","clearAllDotsFromActive","children","classList","add","forEach","dot","index","remove","window","startX","endX","touches","clientX","changedTouches","handleSwipe","console","log","deltaX","Math","abs"],"mappings":"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"}